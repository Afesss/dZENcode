(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[571],{1233:e=>{e.exports={dropdown:"dropdown_dropdown__2LYGA",title:"dropdown_title__z70yN",dropdownMenu:"dropdown_dropdownMenu__5_u1o",dropdownMenuElement:"dropdown_dropdownMenuElement__NPntp"}},1829:e=>{e.exports={product:"product_product__EpYIo",circle:"product_circle__9a8nQ",greenBackgroud:"product_greenBackgroud__6FrYn",blackBackground:"product_blackBackground__A33QU",icon:"product_icon__h660S",titleContainer:"product_titleContainer__O2JaE",titleText:"product_titleText__4lOh_",serialNumberText:"product_serialNumberText__PNPCE",statusText:"product_statusText__voOwk",textGreen:"product_textGreen__JAERJ",textBlack:"product_textBlack__jAUkY",guaranteeContainer:"product_guaranteeContainer__3_ayT",isNewText:"product_isNewText__utHe3",priceContainer:"product_priceContainer__SwIYI",usdPriceText:"product_usdPriceText__zqNlz",uahPriceText:"product_uahPriceText__DEscl",groupNameText:"product_groupNameText__wvaAN",nameText:"product_nameText__vKFeO",orderTitleText:"product_orderTitleText__3AZw5",dateContainer:"product_dateContainer__rmQQa",dateFull:"product_dateFull__vo7kr",dateShort:"product_dateShort__SRxoK",trashIcon:"product_trashIcon__1kdtn"}},2362:(e,t,a)=>{"use strict";let r;a.d(t,{J:()=>d,u:()=>s});var n=a(3464),o=a(4065);let s=async()=>{if(r)return r;try{let e=await n.A.get(o.m);if(200===e.status)return r=e.data,e.data;console.error("Failed to load orders:",e.statusText)}catch(e){console.error(e)}},d=e=>{r&&(r=r.filter(t=>t.id!=e))}},2491:(e,t,a)=>{Promise.resolve().then(a.bind(a,5228))},3162:e=>{e.exports={loader:"loader_loader__zgpwE",icon:"loader_icon__Vq7Oj","icon-animation":"loader_icon-animation__UUzW9"}},3313:(e,t,a)=>{"use strict";a.d(t,{A:()=>m,y:()=>p});var r=a(5155),n=a(1829),o=a.n(n),s=a(6766),d=a(6304),c=a(7132),i=a(4500),l=a(6708),u=a(3463);let p="Вы уверены, что хотите удалить этот продукт?";function m(e){let t=(0,i.j)(),a=t=>{let a=e.product.price.find(e=>e.symbol===t);return a?"".concat((0,d.Xt)(a.value)," ").concat(a.symbol):""};return(0,r.jsxs)(u.P.div,{className:o().product,initial:{height:0,scaleY:0},animate:{height:"48px",scaleY:1},exit:{height:0,scaleY:0},transition:{duration:.2},style:{transformOrigin:"top"},children:[(0,r.jsx)("div",{className:"".concat(o().circle," ").concat(0===e.product.isNew?o().greenBackgroud:o().blackBackground)}),(0,r.jsx)(s.default,{src:"".concat(e.product.photo),alt:"icon",width:30,height:20,className:o().icon}),(0,r.jsxs)("div",{className:o().titleContainer,children:[(0,r.jsx)("p",{className:o().titleText,children:e.product.title}),(0,r.jsx)("p",{className:o().serialNumberText,children:e.product.serialNumber})]}),(0,r.jsx)("p",{className:"".concat(o().statusText," ").concat(0==e.product.isNew?o().textBlack:o().textGreen),children:0===e.product.isNew?"В ремонте":"свободен"}),(0,r.jsxs)("div",{className:o().guaranteeContainer,children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{children:"c\xa0\xa0\xa0"}),(0,r.jsx)("span",{children:(0,d.ak)(e.product.guarantee.start)})]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{children:"по\xa0"}),(0,r.jsx)("span",{children:(0,d.ak)(e.product.guarantee.end)})]})]}),(0,r.jsx)("p",{className:o().isNewText,children:0===e.product.isNew?"Б / У":"новый"}),(0,r.jsxs)("div",{className:o().priceContainer,children:[(0,r.jsx)("p",{className:o().usdPriceText,children:a(c.A.usd)}),(0,r.jsx)("p",{className:o().uahPriceText,children:a(c.A.uah)})]}),(0,r.jsx)("p",{className:o().groupNameText,children:e.product.type}),(0,r.jsx)("p",{className:o().nameText,children:"—"}),(0,r.jsx)("p",{className:o().orderTitleText,children:(()=>{let t=e.orders.find(t=>t.id===e.product.order);return t?null==t?void 0:t.title:""})()}),(0,r.jsxs)("div",{className:o().dateContainer,children:[(0,r.jsx)("p",{className:o().dateShort,children:(0,d.zh)(e.product.date)}),(0,r.jsx)("p",{className:o().dateFull,children:(0,d._w)(e.product.date)})]}),(0,r.jsx)(s.default,{src:"/icons/trash-icon.png",alt:"trash icon",width:12,height:14,className:o().trashIcon,onClick:()=>void t((0,l.ol)({message:p,deleteItemId:e.product.id.toString(),deleteItemTitle:e.product.title,deleteItemSerialNumber:e.product.serialNumber.toString(),deleteIconPath:e.product.photo}))})]})}},4065:(e,t,a)=>{"use strict";a.d(t,{m:()=>n,v:()=>r});let r="/data/orders.json",n="/data/products.json"},4500:(e,t,a)=>{"use strict";a.d(t,{G:()=>o,j:()=>n});var r=a(4540);let n=()=>(0,r.wA)(),o=r.d4},5228:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var r=a(5155),n=a(2115),o=a(9941),s=a.n(o),d=a(2362),c=a(6116),i=a(1233),l=a.n(i),u=a(6766);function p(e){let[t,a]=(0,n.useState)(!1),[o,s]=(0,n.useState)("All"),[d,c]=(0,n.useState)(["All"]),i=(0,n.useRef)(null);return(0,n.useEffect)(()=>{c([...e.values,"All"])},[e.values]),(0,n.useEffect)(()=>{let e=e=>{i.current&&!i.current.contains(e.target)&&a(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,r.jsxs)("button",{ref:i,className:"".concat(e.className," ").concat(l().dropdown),onClick:()=>a(!0),children:[(0,r.jsx)("p",{className:l().title,children:o}),(0,r.jsx)(u.default,{src:"/icons/dropdown-icon.png",alt:"dropdown icon",width:5,height:4}),t&&(0,r.jsx)("div",{className:l().dropdownMenu,children:d.map(t=>{if(t!==o)return(0,r.jsx)("div",{className:l().dropdownMenuElement,onClick:r=>{r.stopPropagation(),s(t),a(!1),e.onNewValueSelected(t)},children:t},t)})})]})}var m=a(3313),_=a(7660),h=a(4500),x=a(6708),w=a(760);function g(){let[e,t]=(0,n.useState)(null),[a,o]=(0,n.useState)([]),[i,l]=(0,n.useState)([]),[u,g]=(0,n.useState)("All"),[N,f]=(0,n.useState)("All"),[j,T]=(0,n.useState)([]),v=(0,h.G)(e=>e.deleteModal),I=(0,h.G)(e=>e.search),C=(0,h.j)();(0,n.useEffect)(()=>{e&&E(e.products)},[I]),(0,n.useEffect)(()=>{v.delete&&(y(Number.parseInt(v.deleteItemId)),C((0,x.P8)()))},[v]),(0,n.useEffect)(()=>{S()},[]),(0,n.useEffect)(()=>{e&&E(e.products)},[u,N]);let y=async a=>{await (0,d.J)(a);let r=await (0,d.u)();r&&(t({products:r,orders:e?e.orders:[]}),E(r))},S=async()=>{let e=await (0,d.u)(),a=await (0,_.Z)();e&&a&&(t({products:e,orders:a}),E(e),o(k(e)),l(A(e)))},k=e=>[...new Set(e.map(e=>e.type))],A=e=>[...new Set(e.map(e=>e.specification))],E=e=>{T(e.filter(e=>!!e.title.toLowerCase().includes(I.value.toLowerCase())&&("all"===u.toLowerCase()||u===e.type)&&("all"===N.toLowerCase()||N==e.specification)))};return(0,r.jsx)("div",{className:s().page,children:(0,r.jsxs)("div",{className:s().content,children:[(0,r.jsxs)("div",{className:s().titleContainer,children:[(0,r.jsx)("p",{className:s().title,children:"Подукты / ".concat(j.length)}),(0,r.jsxs)("div",{className:s().typeContainer,children:[(0,r.jsx)("p",{className:s().dropdownTitleText,children:"Тип:"}),(0,r.jsx)(p,{className:s().dropdown,values:a,onNewValueSelected:e=>g(e)})]}),(0,r.jsxs)("div",{className:s().specificationContainer,children:[(0,r.jsx)("p",{className:s().dropdownTitleText,children:"Спецификация:"}),(0,r.jsx)(p,{className:s().dropdown,values:i,onNewValueSelected:e=>f(e)})]})]}),(0,r.jsx)("div",{className:s().productsContainer,children:(0,r.jsx)(w.N,{children:j.map(t=>(0,r.jsx)(m.A,{product:t,orders:e?e.orders:[]},t.id))})}),!e&&(0,r.jsx)(c.A,{})]})})}},6116:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var r=a(5155),n=a(3162),o=a.n(n),s=a(6766);function d(){return(0,r.jsx)("div",{className:o().loader,children:(0,r.jsx)(s.default,{src:"/icons/loading-icon.svg",alt:"Loading",width:100,height:100,className:o().icon})})}},6304:(e,t,a)=>{"use strict";function r(e){let t=new Date(e),a=new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"long",year:"numeric"}).format(t).split(" ");return a.length>3?"".concat(a[0]," / ").concat(l(a[1]).slice(0,3)," / ").concat(a[2]):(console.error("failed formatted.split",a),"")}function n(e){let t=new Date(e),a=new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}).format(t).split(".");return a.length>=3?"".concat(a[0]," / ").concat(a[1]," / ").concat(a[2]):(console.error("failed formatted.split",a),"")}function o(e){return new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"short",year:"numeric"}).format(e)}function s(e){return new Intl.DateTimeFormat("ru-RU",{hour:"2-digit",minute:"2-digit"}).format(e)}function d(e){let t=new Intl.DateTimeFormat("ru-RU",{weekday:"long"}).format(e);return l(t)}function c(e){let t=new Date(e),a=String(t.getDay()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0");return"".concat(a," / ").concat(r)}function i(e){return new Intl.NumberFormat("ru-RU",{minimumFractionDigits:0,maximumFractionDigits:2}).format(e).replace(",",".")}function l(e){return e[0].toUpperCase()+e.slice(1)}a.d(t,{Cy:()=>o,Xt:()=>i,_w:()=>r,ak:()=>n,gm:()=>d,n9:()=>s,zh:()=>c})},6708:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>d,LD:()=>n,P8:()=>s,ol:()=>o});let r=(0,a(1990).Z0)({name:"deleteModal",initialState:{showModal:!1,message:"",deleteItemId:"",deleteItemTitle:"",deleteItemSerialNumber:"",deleteItemIconPath:"",delete:!1},reducers:{showDeleteModal:(e,t)=>(e.showModal=!0,e.message=t.payload.message,e.deleteItemTitle=t.payload.deleteItemTitle,e.deleteItemSerialNumber=t.payload.deleteItemSerialNumber,e.deleteItemIconPath=t.payload.deleteIconPath,e.deleteItemId=t.payload.deleteItemId,e.delete=!1,e),hideDeleteModal:(e,t)=>(e.showModal=!1,e.message="",e.deleteItemId="",e.delete=!1,e),deleteItem:(e,t)=>(e.delete=!0,e)}}),{deleteItem:n,showDeleteModal:o,hideDeleteModal:s}=r.actions,d=r.reducer},7132:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r={uah:"UAH",usd:"USD"}},7660:(e,t,a)=>{"use strict";let r;a.d(t,{Z:()=>s,k:()=>d});var n=a(3464),o=a(4065);let s=async()=>{if(r)return r;try{let e=await n.A.get(o.v);if(200===e.status)return r=e.data,e.data;console.error("Failed to load orders:",e.statusText)}catch(e){console.error(e)}},d=e=>{r&&(r=r.filter(t=>t.id!=e))}},9941:e=>{e.exports={page:"page_page__8Cktj",content:"page_content__1UmI5",titleContainer:"page_titleContainer__fPWEB",title:"page_title__xVbzD",typeContainer:"page_typeContainer__0vRHm",specificationContainer:"page_specificationContainer__4Y_q6",dropdownTitleText:"page_dropdownTitleText__kmUti",dropdown:"page_dropdown__eEmjl",productsContainer:"page_productsContainer__YRJ_t"}}},e=>{e.O(0,[674,516,270,441,964,358],()=>e(e.s=2491)),_N_E=e.O()}]);